<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Current Weather</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="background">
        <div class="main" id="con-1" style="height: 80vh !important; padding-top: 10rem;">
            <label for="" class="text-light fs-1 mx-auto">Enter City</label>
            <input type="text" name="" id="" class="w-25 mx-auto">
            <button type="submit" class="btn w-25 mt-5 mx-auto p-3"
                style="background: rgba(219, 185, 16, 0.678);">Go</button>
        </div>
        <div class="main" id="con-5" style="display: none;">

        </div>
        <div class="main" id="con-2" style="display: none;">
            <div class="cweather">
                <div class="inp d-flex justify-content-between flex-wrap">
                    <p class="fs-3">Current Weather</p>
                    <div class="input d-flex" style="height: 40px;">
                        <input type="text" placeholder="Add City"
                            style="border: none; background:transparent; color: white;">
                        <button type="submit" class="Go btn w-25 mx-auto p-2"
                            style="background: rgba(219, 185, 16, 0.678);">Go</button>
                    </div>
                </div>
                <h6 class="fs-6"></h6>
                <h5>
                    <ul class="d-flex cities" style="list-style: none;"></ul>
                </h5>
            </div>
            <div class="display-temp">
                <div class="haze d-flex">
                    <div class="img me-5">
                        <img src="" alt="">
                        <div class="no fs-2 fw-bolder">
                            38°C
                        </div>
                    </div>
                    <div class="condition">
                        <h6 class="Weather-con">Haze</h6>
                        <p>FEELS LIKE 28°C</p>
                    </div>
                </div>
                <div class="info">
                    <p class="fs-4 fw-bolder">
                        Expect sunny skies. The high will be 42°.
                    </p>
                </div>
                <div class="condition-2 d-flex justify-content-around flex-wrap">
                    <div class="wind mb-4">
                        <p>
                            WIND
                        </p>
                        <h6>
                            8 km/h
                        </h6>
                    </div>
                    <div class="HUMIDITY mb-4">
                        <p>
                            HUMIDITY
                        </p>
                        <h6>
                            42%
                        </h6>
                    </div>
                    <div class="VISIBILITY mb-4">
                        <p>
                            VISIBILITY
                        </p>
                        <h6>
                            2 km
                        </h6>
                    </div>
                    <div class="PRESSURE mb-4">
                        <p>
                            PRESSURE
                        </p>
                        <h6>
                            1004 mb
                        </h6>
                    </div>
                    <div class="DEW mb-4">
                        <p>
                            DEW POINT
                        </p>
                        <h6>
                            14°
                        </h6>
                    </div>
                </div>
            </div>
        </div>
        <div class="main main3 flex-wrap" id="con-3" style="display: none;position: relative;">
            <div class="box" id="box-1">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        12 AM
                    </p>
                </div>
            </div>
            <div class="box" id="box-2">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        1 AM
                    </p>
                </div>
            </div>
            <div class="box" id="box-3">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        2 AM
                    </p>
                </div>
            </div>
            <div class="box" id="box-4">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        3 AM
                    </p>
                </div>
            </div>
            <div class="box" id="box-5">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        4 AM
                    </p>
                </div>
            </div>
            <div class="box" id="box-6">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        5 AM
                    </p>
                </div>
            </div>
            <div class="box" id="box-7">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        6 AM
                    </p>
                </div>
            </div>
            <div class="box" id="box-8">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        7 AM
                    </p>
                </div>
            </div>
            <div class="box" id="box-9">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        8 AM
                    </p>
                </div>
            </div>
            <div class="box" id="box-10">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        9 AM
                    </p>
                </div>
            </div>
            <div class="box" id="box-11">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        10 AM
                    </p>
                </div>
            </div>
            <div class="box" id="box-12">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        11 AM
                    </p>
                </div>
            </div>
            <div class="con-3-button">
                <button
                    style="width: 30px;height:30px;background-color: black;border-radius: 50%; color: beige; display: flex;align-items: center; justify-content: center; border: none;position: absolute; top: 50%;right: 2%; flex-wrap: wrap;">></button>
            </div>
        </div>
        <div class="main main3 flex-wrap" id="con-4" style="display: none; position: relative;">
            <div class="con-4-button">
                <button
                    style="width: 30px;height:30px;background-color: black;border-radius: 50%; color: beige; display: flex;align-items: center; justify-content: center; border: none;position: absolute; top: 50%;left: 1%; transform: rotate(180deg);">
                    > </button>
            </div>
            <div class="box" id="box-1">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        12 PM
                    </p>
                </div>
            </div>
            <div class="box" id="box-2">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        1 PM
                    </p>
                </div>
            </div>
            <div class="box" id="box-3">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        2 PM
                    </p>
                </div>
            </div>
            <div class="box" id="box-4">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        3 PM
                    </p>
                </div>
            </div>
            <div class="box" id="box-5">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        4 PM
                    </p>
                </div>
            </div>
            <div class="box" id="box-6">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        5 PM
                    </p>
                </div>
            </div>
            <div class="box" id="box-7">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        6 PM
                    </p>
                </div>
            </div>
            <div class="box" id="box-8">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        7 PM
                    </p>
                </div>
            </div>
            <div class="box" id="box-9">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        8 PM
                    </p>
                </div>
            </div>
            <div class="box" id="box-10">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        9 PM
                    </p>
                </div>
            </div>
            <div class="box" id="box-11">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        10 PM
                    </p>
                </div>
            </div>
            <div class="box" id="box-12">
                <div class="img">
                    <img src="" alt="">
                </div>
                <div class="no">
                    <p>43°</p>
                </div>
                <div class="con-3-cond">
                    <p>haze</p>
                </div>
                <div class="time">
                    <p>
                        11 PM
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script src="js/jquery.js"></script>
    <script>
        $("document").ready(function () {
            cities = JSON.parse(localStorage.getItem("city"));
            if (cities == "" || cities == null || cities.length == 0) {
                var city1;
                var city2;
                $("#con-1 button").click(function () {
                    city1 = $("input").val();
                    cities.push(city1);
                    localStorage.setItem("city", JSON.stringify(cities));
                    cities = JSON.parse(localStorage.getItem("city"))
                    $("#con-2").css("display", "block")
                    $("#con-3").css("display", "flex")
                    $("#con-1").css("display", "none")
                    $("con-5").css("display", "none")
                    getData(cities[0]);
                })
            }
            else {
                cities = JSON.parse(localStorage.getItem("city"))
                getData(cities[0]);
                $("#con-1").css("display", "none");
                $("#con-2").css("display", "block");
                $("#con-3").css("display", "flex");

            }
            $("#con-1 button").click(function () {
                city1 = $("input").val();
                var cities = [];
                cities.push(city1);

                localStorage.setItem("city", JSON.stringify(cities));
                cities = JSON.parse(localStorage.getItem("city"))
                $("#con-2").css("display", "block")
                $("#con-3").css("display", "flex")
                $("#con-1").css("display", "none")
                $("#con-5").css("display", "none")
                getData(cities[0]);
            })
            $("#con-2 .input .Go").click(function () {
                city1 = $("#con-2 .input input").val();
                cities = JSON.parse(localStorage.getItem("city"))
                index = cities.indexOf(city1);

                $("#con-2").css("display", "block")
                $("#con-3").css("display", "flex")
                $("#con-1").css("display", "none")

                if (index == -1) {
                    cities.push(city1);
                    localStorage.setItem("city", JSON.stringify(cities));
                    getData(cities[(cities.length) - 1]);
                    for (let i= 0; i< cities.length ;i++) {
                        $(".cweather h5 ul").append(`<li class = "me-3">${cities[i]}</li>`)
                    }
                }
                else {
                    getData(cities[index]);
                }

            })
            // function data (){
            //     var z = $(".new-button").val();

            // }
            $(".con-3-button button").click(function () {
                $("#con-3").css("display", "none")
                $("#con-3").css("transition", "1s")
                $("#con-4").css("transition", "1s")
                $("#con-4").css("display", "flex")

            })
            $(".con-4-button button").click(function () {
                $("#con-4").css("display", "none")
                $("#con-4").css("transition", "1s")
                $("#con-3").css("transition", "1s")
                $("#con-3").css("display", "flex")

            })
        });
        function getData(city) {
            $.ajax({
                method: "GET",
                data: { key: 'c17970498dca46fcbb675248222504', q: city },
                url: "https://api.weatherapi.com/v1/forecast.json",
                success: function (response) {
                    // for curent weather
                    $('img').attr('src', response.current.condition.icon)
                    console.log("api response", response);
                    $(".img .no").text(response.current.temp_c);
                    $(".Wind h6").text(response.current.wind_kph);
                    $(".HUMIDITY h6").val(response.current.humidity);
                    $(".PRESSURE h6").text(response.current.pressure_mb + "mb");
                    $(".condition p").text("Feels like " + response.current.feelslike_c);
                    $(".Weather-con").text(response.current.condition.text);
                    $(".cweather h6").text(response.location.name + ", " + response.location.country);
                    //for 12am
                    $("#box-1 .no p").text(response.forecast.forecastday[0].hour[0].temp_c)
                    $("#box-1 img").attr('src', response.forecast.forecastday[0].hour[0].condition.icon)
                    $("#box-1 .con-3-cond p").text(response.forecast.forecastday[0].hour[0].condition.text)
                    //for 1am
                    $("#box-2 .no p").text(response.forecast.forecastday[0].hour[1].temp_c)
                    $("#box-2 img").attr('src', response.forecast.forecastday[0].hour[1].condition.icon)
                    $("#box-2 .con-3-cond p").text(response.forecast.forecastday[0].hour[1].condition.text)
                    // for 2am
                    $("#box-3 .no p").text(response.forecast.forecastday[0].hour[2].temp_c)
                    $("#box-3 img").attr('src', response.forecast.forecastday[0].hour[2].condition.icon)
                    $("#box-3 .con-3-cond p").text(response.forecast.forecastday[0].hour[2].condition.text)
                    // for 3am
                    $("#box-4 .no p").text(response.forecast.forecastday[0].hour[3].temp_c)
                    $("#box-4 img").attr('src', response.forecast.forecastday[0].hour[3].condition.icon)
                    $("#box-4 .con-3-cond p").text(response.forecast.forecastday[0].hour[3].condition.text)
                    // for 4am
                    $("#box-5 .no p").text(response.forecast.forecastday[0].hour[4].temp_c)
                    $("#box-5 img").attr('src', response.forecast.forecastday[0].hour[4].condition.icon)
                    $("#box-5 .con-3-cond p").text(response.forecast.forecastday[0].hour[4].condition.text)
                    // for 5am
                    $("#box-6 .no p").text(response.forecast.forecastday[0].hour[5].temp_c)
                    $("#box-6 img").attr('src', response.forecast.forecastday[0].hour[5].condition.icon)
                    $("#box-6 .con-3-cond p").text(response.forecast.forecastday[0].hour[5].condition.text)
                    // for 6am
                    $("#box-7 .no p").text(response.forecast.forecastday[0].hour[6].temp_c)
                    $("#box-7 img").attr('src', response.forecast.forecastday[0].hour[6].condition.icon)
                    $("#box-7 .con-3-cond p").text(response.forecast.forecastday[0].hour[6].condition.text)
                    // for 7am
                    $("#box-8 .no p").text(response.forecast.forecastday[0].hour[7].temp_c)
                    $("#box-8 img").attr('src', response.forecast.forecastday[0].hour[7].condition.icon)
                    $("#box-8 .con-3-cond p").text(response.forecast.forecastday[0].hour[7].condition.text)
                    // for 8am
                    $("#box-9 .no p").text(response.forecast.forecastday[0].hour[8].temp_c)
                    $("#box-9 img").attr('src', response.forecast.forecastday[0].hour[8].condition.icon)
                    $("#box-9 .con-3-cond p").text(response.forecast.forecastday[0].hour[8].condition.text)
                    // for 9am
                    $("#box-10 .no p").text(response.forecast.forecastday[0].hour[9].temp_c)
                    $("#box-10 img").attr('src', response.forecast.forecastday[0].hour[9].condition.icon)
                    $("#box-10 .con-3-cond p").text(response.forecast.forecastday[0].hour[9].condition.text)
                    // for 10am
                    $("#box-11 .no p").text(response.forecast.forecastday[0].hour[10].temp_c)
                    $("#box-11 img").attr('src', response.forecast.forecastday[0].hour[10].condition.icon)
                    $("#box-11 .con-3-cond p").text(response.forecast.forecastday[0].hour[10].condition.text)
                    // for 11am
                    $("#box-12 .no p").text(response.forecast.forecastday[0].hour[11].temp_c)
                    $("#box-12 img").attr('src', response.forecast.forecastday[0].hour[11].condition.icon)
                    $("#box-12 .con-3-cond p").text(response.forecast.forecastday[0].hour[11].condition.text)
                    //for 12pm
                    $("#con-4 #box-1 .no p").text(response.forecast.forecastday[0].hour[12].temp_c)
                    $("#con-4 #box-1 img").attr('src', response.forecast.forecastday[0].hour[12].condition.icon)
                    $("#con-4 #box-1 .con-3-cond p").text(response.forecast.forecastday[0].hour[12].condition.text)
                    //for 1pm
                    $("#con-4 #box-2 .no p").text(response.forecast.forecastday[0].hour[13].temp_c)
                    $("#con-4 #box-2 img").attr('src', response.forecast.forecastday[0].hour[13].condition.icon)
                    $("#con-4 #box-2 .con-3-cond p").text(response.forecast.forecastday[0].hour[13].condition.text)
                    // for 2pm
                    $("#con-4 #box-3 .no p").text(response.forecast.forecastday[0].hour[14].temp_c)
                    $("#con-4 #box-3 img").attr('src', response.forecast.forecastday[0].hour[14].condition.icon)
                    $("#con-4 #box-3 .con-3-cond p").text(response.forecast.forecastday[0].hour[14].condition.text)
                    // for 3pm
                    $("#con-4 #box-4 .no p").text(response.forecast.forecastday[0].hour[15].temp_c)
                    $("#con-4 #box-4 img").attr('src', response.forecast.forecastday[0].hour[15].condition.icon)
                    $("#con-4 #box-4 .con-3-cond p").text(response.forecast.forecastday[0].hour[15].condition.text)
                    // for 4pm
                    $("#con-4 #box-5 .no p").text(response.forecast.forecastday[0].hour[16].temp_c)
                    $("#con-4 #box-5 img").attr('src', response.forecast.forecastday[0].hour[16].condition.icon)
                    $("#con-4 #box-5 .con-3-cond p").text(response.forecast.forecastday[0].hour[16].condition.text)
                    // for 5pm
                    $("#con-4 #box-6 .no p").text(response.forecast.forecastday[0].hour[17].temp_c)
                    $("#con-4 #box-6 img").attr('src', response.forecast.forecastday[0].hour[17].condition.icon)
                    $("#con-4 #box-6 .con-3-cond p").text(response.forecast.forecastday[0].hour[17].condition.text)
                    // for 6pm
                    $("#con-4 #box-7 .no p").text(response.forecast.forecastday[0].hour[18].temp_c)
                    $("#con-4 #box-7 img").attr('src', response.forecast.forecastday[0].hour[18].condition.icon)
                    $("#con-4 #box-7 .con-3-cond p").text(response.forecast.forecastday[0].hour[18].condition.text)
                    // for 7pm
                    $("#con-4 #box-8 .no p").text(response.forecast.forecastday[0].hour[19].temp_c)
                    $("#con-4 #box-8 img").attr('src', response.forecast.forecastday[0].hour[19].condition.icon)
                    $("#con-4 #box-8 .con-3-cond p").text(response.forecast.forecastday[0].hour[19].condition.text)
                    // for 8pm
                    $("#con-4 #box-9 .no p").text(response.forecast.forecastday[0].hour[20].temp_c)
                    $("#con-4 #box-9 img").attr('src', response.forecast.forecastday[0].hour[20].condition.icon)
                    $("#con-4 #box-9 .con-3-cond p").text(response.forecast.forecastday[0].hour[20].condition.text)
                    // for 9pm
                    $("#con-4 #box-10 .no p").text(response.forecast.forecastday[0].hour[21].temp_c)
                    $("#con-4 #box-10 img").attr('src', response.forecast.forecastday[0].hour[21].condition.icon)
                    $("#con-4 #box-10 .con-3-cond p").text(response.forecast.forecastday[0].hour[21].condition.text)
                    // for 10pm
                    $("#con-4 #box-11 .no p").text(response.forecast.forecastday[0].hour[22].temp_c)
                    $("#con-4 #box-11 img").attr('src', response.forecast.forecastday[0].hour[22].condition.icon)
                    $("#con-4 #box-11 .con-3-cond p").text(response.forecast.forecastday[0].hour[22].condition.text)
                    // for 11pm
                    $("#con-4 #box-12 .no p").text(response.forecast.forecastday[0].hour[23].temp_c)
                    $("#con-4 #box-12 img").attr('src', response.forecast.forecastday[0].hour[23].condition.icon)
                    $("#con-4 #box-12 .con-3-cond p").text(response.forecast.forecastday[0].hour[23].condition.text)
                },
                error: function (response) {
                    $("#con-5").css("display", "block")
                    $("#con-5").text(JSON.parse(response.responseText).error.message);
                    $("#con-3").css("display", "none");
                    $("#con-2").css("display", "none");
                    $("#con-1").css("display", "flex")
                }

            });
            // }).done(function() {
            // $( this ).addClass( "done" );
            // });
        }
    </script>
</body>

</html>